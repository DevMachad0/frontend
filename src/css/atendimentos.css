:root{
  --bg:#1f2022;
  --panel:#424447;
  --stroke:#d9d9d9;
  --sidebar:#2a2c2f;
  --sidebar-hover:#3a3c40;
  --exit:#b85151;
  --overlay:rgba(0,0,0,0.55);
  --chat-list-bg:#232325;
  --chat-list-border:#595b5f;
  --chat-panel-bg:#222325;
  --chat-user:#3b3d40;
  --chat-agente:#2a2c2f;
}
*{box-sizing:border-box}
html,body,#root{height:100%}
.atendimentos-chat{min-height:100vh;background:var(--bg);color:white;display:flex;flex-direction:column;position:relative;overflow-x:hidden}
.overlay{position:fixed;inset:0;background:var(--overlay);z-index:40}
/* SIDEBAR */
.sidebar{position:fixed;top:0;left:-260px;width:240px;height:100%;background:linear-gradient(180deg, #0c0d0f, #0f1113);transition:all .35s cubic-bezier(.2,.9,.2,1);padding:28px 12px;z-index:50;box-shadow:0 8px 30px rgba(2,6,23,0.6);backdrop-filter: blur(6px)}
.sidebar.open{left:0;}
.sidebar nav ul{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.sidebar nav li{padding:12px 18px;cursor:pointer;border-radius:8px;transition:background .18s, transform .18s;font-size:15px}
.sidebar nav li:hover{background:var(--sidebar-hover);transform:translateX(6px)}
.sidebar nav li.exit{color:var(--exit);font-weight:700}
.header-row{display:grid;grid-template-columns:auto auto 1fr auto;align-items:center;gap:10px;padding:14px 22px;z-index:30;position:relative}
.icon-btn{height:34px;width:34px;border-radius:8px;background:#2b2d30;border:1px solid #3a3c3f;color:#fff;display:grid;place-items:center}
.brand{font-size:18px;font-weight:700;margin:0}
.avatar{height:36px;width:36px;border-radius:50%;background:white;color:black;border:none;display:grid;place-items:center}
.spacer{width:100%}
.main-chat{display:flex;flex:1;min-height:0;}
.bis_skin_checked {
  overflow-y: auto;
  background: #232325;
  border-radius: 12px;
  margin: 18px;
  box-shadow: 0 2px 12px #0002;
}
.anexo-spinner {
  display: inline-block;
  width: 22px;
  height: 22px;
  border: 3px solid #00eaff;
  border-top: 3px solid #232323;
  border-radius: 50%;
  animation: anexo-spin 0.8s linear infinite;
  margin-right: 8px;
  vertical-align: middle;
}
@keyframes anexo-spin {
  0% { transform: rotate(0deg);}
  100% { transform: rotate(360deg);}
}
.consulta-menu {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 18px 24px 0 24px;
}
.consulta-input {
  flex: 1;
  padding: 6px 12px;
  border-radius: 6px;
  border: 1px solid #595b5f;
  background: #1b1c1e;
  color: #fff;
}
.btn-consulta {
  padding: 6px 16px;
  border-radius: 6px;
  background: #1762c4;
  color: #fff;
  border: none;
  font-weight: 600;
  cursor: pointer;
}
.chat-list{width:270px;background:var(--chat-list-bg);border-right:2px solid var(--chat-list-border);padding:18px 0;display:flex;flex-direction:column;gap:12px;overflow-y:auto;min-height:0;max-height: 400px;}
.chat-list-item{background:transparent;border:1px solid var(--chat-list-border);border-radius:8px;padding:10px 14px;display:flex;flex-direction:column;align-items:flex-start;cursor:pointer;transition:background .2s, border .2s;outline:none;color:#fff;font-size:15px; margin-left: 8px; margin-right: 8px;}
.chat-list-item.selected, .chat-list-item:focus{background:#353638;border-color:#00eaff;}
.chat-list-protocolo{font-weight:700;font-size:14px;}
.chat-list-nome{font-size:13px;color:#eaeaea;}
.chat-panel{flex:1;background:var(--chat-panel-bg);padding:0 0 0 0;display:flex;flex-direction:column;min-height:0;}
.chat-panel-header{display:flex;justify-content:space-between;align-items:center;padding:18px 24px 8px 24px;border-bottom:1px solid var(--chat-list-border);}
.chat-panel-nome{font-weight:600;font-size:17px;margin-right:18px;}
.chat-panel-protocolo{font-size:13px;color:#bfbfbf;}
.chat-panel-status{font-size:13px;padding:2px 10px;border-radius:6px;background:#3b3d40;color:#fff;}
.chat-panel-info{display:flex;flex-wrap:wrap;gap:18px;font-size:13px;padding:8px 24px 0 24px;color:#bfbfbf;}
.chat-messages-atendimento {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 18px 24px;
  overflow-y: auto;
  min-height: 0;
  background: rgba(60,62,65,0.12);
  border-radius: 12px;
  margin: 12px 18px;
  box-shadow: 0 2px 12px #0002;
  max-height: 300px; /* Limite de altura do chat */
}
.msg-bubble{max-width:70%;padding:10px 16px;border-radius:14px;font-size:15px;position:relative;margin-bottom:2px;word-break:break-word;}
.msg-bubble{max-width:70%;padding:12px 18px;border-radius:16px;font-size:15px;position:relative;margin-bottom:2px;word-break:break-word;box-shadow:0 1px 8px #0001;transition:background .2s;}
.msg-bubble.user{background:var(--chat-user);align-self:flex-end;}
.msg-bubble.user{background:linear-gradient(90deg,#3b3d40 80%,#1762c4 100%);align-self:flex-end;}
.msg-bubble.agente{background:linear-gradient(90deg,#2a2c2f 80%,#3b91ff 100%);align-self:flex-start;}
.msg-bubble.agente{background:var(--chat-agente);align-self:flex-start;}
.msg-text{display:block;}
.msg-text{display:block;white-space:pre-line;word-break:break-word;}
.msg-img-thumb{max-width:180px;max-height:120px;border-radius:8px;box-shadow:0 2px 8px #0003;margin-bottom:4px;display:block;}
.msg-time{font-size:11px;color:#ccc;float:right;margin-left:8px;}
.msg-time{font-size:11px;color:#bfbfbf;float:right;margin-left:8px;}
.msg-attachments{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.msg-img-attachment{max-width:160px;max-height:100px;border-radius:8px;box-shadow:0 2px 8px #0004}
.attachment-file{display:inline-block;padding:6px 10px;background:#2b2d30;border-radius:8px;color:#fff;text-decoration:none;border:1px solid #3a3c40}
.attachment-with-icon{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;background:#2b2d30;border-radius:8px;color:#fff;text-decoration:none;border:1px solid #3a3c40}
.attachment-with-icon .attachment-icon{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;background:linear-gradient(180deg,#2b2d30,#232325);border-radius:6px}
.attachment-with-icon .attachment-name{font-size:13px;color:#e6e6e6}
.empty{color:#ccc;text-align:center;padding:24px;}
